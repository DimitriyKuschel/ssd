services:
  ssd:
    build: .
    ports:
      - "${SSD_PORT:-8090}:8090"
    volumes:
      - ${SSD_DATA_DIR:-./data}:/data/ssd
      - ${SSD_LOGS_DIR:-./logs}:/var/log/ssd
    environment:
      - SSD_LOG_LEVEL=${SSD_LOG_LEVEL:-info}
      - SSD_AGGREGATION_INTERVAL=${SSD_AGGREGATION_INTERVAL:-60s}
      - SSD_SAVE_INTERVAL=${SSD_SAVE_INTERVAL:-120s}
      - SSD_CACHE_ENABLED=${SSD_CACHE_ENABLED:-true}
      - SSD_CACHE_SIZE=${SSD_CACHE_SIZE:-32}
      - SSD_METRICS_ENABLED=${SSD_METRICS_ENABLED:-true}
    restart: unless-stopped
    stop_grace_period: 10s
